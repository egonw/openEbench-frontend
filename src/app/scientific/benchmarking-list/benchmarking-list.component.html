<span *ngIf='communitiesGraphql; else loading'>
  <div *ngFor="let c of communitiesGraphql.getCommunities">
    <h4>
      {{c.name}}
    </h4>
    <p>
      {{c.acronym}}
    </p>
    <p>
      {{c.description}}
    </p>
  </div>

  <div>
    <!-- <p><b>Benchmarking Event : </b> A benchmarking event occures when a scientific community opens one or more challenges for its participants, therefore the paticipants 
    can evaluate their predictions. The Benchmarking event is usually defined by a starting and clossing date.</p> -->
    
  </div>

</span>
<mat-tab-group>
  <mat-tab label="Benchmarking Events">
    <span *ngIf='bEventsGraphql; else loading'>
      <!-- <span *ngIf="tools.length!=0; else toolNotFound"> -->
        <mat-accordion>
          <mat-expansion-panel *ngFor="let b of bEventsGraphql.getBenchmarkingEvents">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <a class="left" routerLink="{{b._id}}" name="{{b._id}}" matTooltip="{{b._id}} details"
                  matTooltipPosition="right">{{b.name}}</a>
              </mat-panel-title>
              <mat-panel-description>
                <span class="right" *ngIf="b.challenges">challenges : {{b.challenges.length}}</span>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <p>Challenges : </p>
            <span *ngFor="let c of b.challenges">
              <p>
                <a routerLink="{{b._id}}/{{c._id}}" name="{{c._id}}" matTooltip="{{c._id}} details"
                  matTooltipPosition="right">{{c.name}}</a>
              </p>
            </span>
          </mat-expansion-panel>
        </mat-accordion>
      </span>
  </mat-tab>
  <mat-tab label="Datasets">
    <br>
    <span *ngIf='datasetsGraphql; else loading'>
      <table datatable [dtOptions]="dtOptions" [dtTrigger]="datasetTrigger" class="row-border hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Type</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let d of datasetsGraphql.getDatasets">
            <td>{{ d._id }}</td>
            <td>{{ d.name }}</td>
            <td>{{ d.type }}</td>
          </tr>
        </tbody>
      </table>
    </span>
  </mat-tab>
  <mat-tab label="Participants">
    <br>
    <span *ngIf='toolsGraphql; else loading'>
      <table datatable [dtOptions]="dtOptions" [dtTrigger]="toolTrigger" class="row-border hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Status</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let t of toolsGraphql.getTools">
            <td>{{ t._id }}</td>
            <td>{{ t.name }}</td>
            <td>{{ t.status }}</td>
            <td>{{ t.description }}</td>
          </tr>
        </tbody>
      </table>
    </span>
    <!-- </span> -->
  </mat-tab>
</mat-tab-group>

<ng-template #loading>loading...</ng-template>
<ng-template #notfound>Event not found</ng-template>